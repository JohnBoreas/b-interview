主要判断是当前读还是快照读， 



还有就是判断是聚簇索引还是非聚簇索引

还有就是当前的事务级别是什么，是读已提交还是可重复读



一般快照读不需要锁，读的是快照

读已提交级别下都是快照读，只锁定查询到的具体行记录

可重复读下才会有间隙锁，

可重复读条件下，

聚簇索引或者唯一索引查具体的某条记录，只会加记录锁

查的是一个范围，就会在聚簇索引上加记录锁跟间隙锁，在非聚簇索引上加记录锁